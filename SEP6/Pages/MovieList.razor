@page "/movies"
@using SEP6.Data
@using SEP6.Models
@using System.Web
@inject NavigationManager NavigationManager
@inject IMovieService MovieService


<Search Placeholder="Input Movie" EnterButton="true"  OnSearch="OnSearch"/>
<h1>Movies</h1>

<AntList Grid="grid" DataSource="@Movies">
    <ListItem >
        <Card Bordered Title="@(context.Title)">
			<Cover><img alt="@(context.Title)" src="https://image.tmdb.org/t/p/w185/@(context.Poster)" /></Cover>
            <Body>
            @(context.Description)
            </Body>
        </Card>
    </ListItem>
</AntList>

@code
{
	public List<MovieData> Movies = new List<MovieData>();
	
	protected async void OnSearch(string value) {
        Movies = await MovieService.GetManyMovies("c6b31d1cdad6a56a23f0c913e2482a31", value);
    }
	
	protected override async Task OnInitializedAsync()
    {
        Movies = await MovieService.GetManyMovies("c6b31d1cdad6a56a23f0c913e2482a31", "A");
    }


    private ListGridType grid = new()
    {
        Gutter = 16,
        Xs = 1,
        Sm = 2,
        Md = 3,
        Lg = 3,
        Xl = 3,
        Xxl = 3,
    };

    

}



